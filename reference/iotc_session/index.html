
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-7.1.4">
    
    
      
        <title>WyzeIOTCSession - WyzeCam Documentation</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.bde7dde4.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.ef6f36e2.min.css">
        
      
    
    
    
      
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>:root{--md-text-font-family:"Roboto";--md-code-font-family:"Roboto Mono"}</style>
      
    
    
    
      <link rel="stylesheet" href="../../assets/_mkdocstrings.css">
    
    
      
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="none" data-md-color-accent="none">
  
    
    <script>function __prefix(e){return new URL("../..",location).pathname+"."+e}function __get(e,t=localStorage){return JSON.parse(t.getItem(__prefix(e)))}</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#wyzeiotcsession" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="WyzeCam Documentation" class="md-header__button md-logo" aria-label="WyzeCam Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            WyzeCam Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              WyzeIOTCSession
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="WyzeCam Documentation" class="md-nav__button md-logo" aria-label="WyzeCam Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    WyzeCam Documentation
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../installation/" class="md-nav__link">
        Installation
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" checked>
      
      <label class="md-nav__link" for="__nav_3">
        Code Reference
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Code Reference" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Code Reference
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_1" type="checkbox" id="__nav_3_1" >
      
      <label class="md-nav__link" for="__nav_3_1">
        Wyze API
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Wyze API" data-md-level="2">
        <label class="md-nav__title" for="__nav_3_1">
          <span class="md-nav__icon md-icon"></span>
          Wyze API
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../wyze_api/wyze_api_functions/" class="md-nav__link">
        Functions
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../wyze_api/wyze_api_models/" class="md-nav__link">
        Models
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
            
  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_2" type="checkbox" id="__nav_3_2" checked>
      
      <label class="md-nav__link" for="__nav_3_2">
        IOTC API
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="IOTC API" data-md-level="2">
        <label class="md-nav__title" for="__nav_3_2">
          <span class="md-nav__icon md-icon"></span>
          IOTC API
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../iotc/" class="md-nav__link">
        WyzeIOTC
      </a>
    </li>
  

          
            
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          WyzeIOTCSession
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        WyzeIOTCSession
      </a>
      
        
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#wyzecam.iotc.WyzeIOTCSession.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#wyzecam.iotc.WyzeIOTCSession.iotctrl_mux" class="md-nav__link">
    iotctrl_mux()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#wyzecam.iotc.WyzeIOTCSession.recv_video_data" class="md-nav__link">
    recv_video_data()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#wyzecam.iotc.WyzeIOTCSession.recv_video_frame" class="md-nav__link">
    recv_video_frame()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#wyzecam.iotc.WyzeIOTCSession.recv_video_frame_ndarray" class="md-nav__link">
    recv_video_frame_ndarray()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#wyzecam.iotc.WyzeIOTCSession.recv_video_frame_ndarray_with_stats" class="md-nav__link">
    recv_video_frame_ndarray_with_stats()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#wyzecam.iotc.WyzeIOTCSession.session_check" class="md-nav__link">
    session_check()
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../iotc_session_state/" class="md-nav__link">
        WyzeIOTCSessionState
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
            
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_3" type="checkbox" id="__nav_3_3" >
      
      <label class="md-nav__link" for="__nav_3_3">
        Low Level API (TUTK)
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Low Level API (TUTK)" data-md-level="2">
        <label class="md-nav__title" for="__nav_3_3">
          <span class="md-nav__icon md-icon"></span>
          Low Level API (TUTK)
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../tutk/tutk/" class="md-nav__link">
        tutk.py
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../tutk/tutk_ioctl_mux/" class="md-nav__link">
        tutk_ioctl_mux.py
      </a>
    </li>
  

          
            
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_3_3" type="checkbox" id="__nav_3_3_3" >
      
      <label class="md-nav__link" for="__nav_3_3_3">
        tutk_protocol.py
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="tutk_protocol.py" data-md-level="3">
        <label class="md-nav__title" for="__nav_3_3_3">
          <span class="md-nav__icon md-icon"></span>
          tutk_protocol.py
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../tutk/tutk_protocol/" class="md-nav__link">
        Classes
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../tutk/tutk_protocol_commands/" class="md-nav__link">
        Commands
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#wyzecam.iotc.WyzeIOTCSession.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#wyzecam.iotc.WyzeIOTCSession.iotctrl_mux" class="md-nav__link">
    iotctrl_mux()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#wyzecam.iotc.WyzeIOTCSession.recv_video_data" class="md-nav__link">
    recv_video_data()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#wyzecam.iotc.WyzeIOTCSession.recv_video_frame" class="md-nav__link">
    recv_video_frame()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#wyzecam.iotc.WyzeIOTCSession.recv_video_frame_ndarray" class="md-nav__link">
    recv_video_frame_ndarray()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#wyzecam.iotc.WyzeIOTCSession.recv_video_frame_ndarray_with_stats" class="md-nav__link">
    recv_video_frame_ndarray_with_stats()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#wyzecam.iotc.WyzeIOTCSession.session_check" class="md-nav__link">
    session_check()
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                
                
                <h1 id="wyzeiotcsession">WyzeIOTCSession</h1>


  <div class="doc doc-object doc-class">


    <div class="doc doc-contents first">

      <p>An IOTC session object, used for communicating with Wyze cameras</p>
<p>This is constructed from a WyzeIOTC object:</p>
<div class="highlight"><pre><span></span><code><span class="k">with</span> <span class="n">WyzeIOTC</span><span class="p">()</span> <span class="k">as</span> <span class="n">wyze</span><span class="p">:</span>
    <span class="k">with</span> <span class="n">wyze</span><span class="o">.</span><span class="n">connect_and_auth</span><span class="p">(</span><span class="n">account</span><span class="p">,</span> <span class="n">camera</span><span class="p">)</span> <span class="k">as</span> <span class="n">session</span><span class="p">:</span>
        <span class="o">...</span>  <span class="c1"># send configuration commands, or stream video</span>
</code></pre></div>
<p>However, you can construct it manually, which can be helpful if you intend to set a
different frame size or bitrate than the defaults:</p>
<div class="highlight"><pre><span></span><code><span class="k">with</span> <span class="n">WyzeIOTCSession</span><span class="p">(</span><span class="n">lib</span><span class="p">,</span> <span class="n">account</span><span class="p">,</span> <span class="n">camera</span><span class="p">,</span> <span class="n">bitrate</span><span class="o">=</span><span class="n">tutk</span><span class="o">.</span><span class="n">BITRATE_SD</span><span class="p">)</span>
    <span class="o">...</span>
</code></pre></div>
<blockquote>
<p><strong>Note:</strong> WyzeIOTCSession is intended to be used as a context manager.  Otherwise,
   you will need to manually tell the session to connect and authenticate, by calling
   session._connect() followed by session._auth(), and session._disconnect() when you're
   ready to disconnect the session.</p>
</blockquote>

<p><strong>Attributes:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>tutk_platform_lib</code></td>
        <td><code>CDLL</code></td>
        <td><p>The underlying c library (from <a href="../tutk/tutk/#wyzecam.tutk.tutk.load_library">tutk.load_library</a>)</p></td>
      </tr>
      <tr>
        <td><code>account</code></td>
        <td><code>WyzeAccount</code></td>
        <td><p>A <a href="../wyze_api/wyze_api_models/#wyzecam.api_models.WyzeAccount">WyzeAccount</a> instance, see <a href="../wyze_api/wyze_api_functions/#wyzecam.api.get_user_info">api.get_user_info</a></p></td>
      </tr>
      <tr>
        <td><code>camera</code></td>
        <td><code>WyzeCamera</code></td>
        <td><p>A <a href="../wyze_api/wyze_api_models/#wyzecam.api_models.WyzeCamera">WyzeCamera</a> instance, see <a href="../wyze_api/wyze_api_functions/#wyzecam.api.get_camera_list">api.get_camera_list</a></p></td>
      </tr>
      <tr>
        <td><code>preferred_frame_size</code></td>
        <td><code>int</code></td>
        <td><p>The preferred size of the video stream returned by the camera. See <a href="../tutk/tutk/#wyzecam.tutk.tutk.FRAME_SIZE_1080P">wyzecam.tutk.tutk.FRAME_SIZE_1080P</a>.</p></td>
      </tr>
      <tr>
        <td><code>preferred_bitrate</code></td>
        <td><code>int</code></td>
        <td><p>The preferred bitrate of the video stream returned by the camera. See <a href="../tutk/tutk/#wyzecam.tutk.tutk.BITRATE_HD">wyzecam.tutk.tutk.BITRATE_HD</a>.</p></td>
      </tr>
      <tr>
        <td><code>session_id</code></td>
        <td><code>Optional[c_int]</code></td>
        <td><p>The id of this session, once connected.</p></td>
      </tr>
      <tr>
        <td><code>av_chan_id</code></td>
        <td><code>Optional[c_int]</code></td>
        <td><p>The AV channel of this session, once connected.</p></td>
      </tr>
      <tr>
        <td><code>state</code></td>
        <td><code>WyzeIOTCSessionState</code></td>
        <td><p>The current connection state of this session.  See <a href="../iotc_session_state/">WyzeIOTCSessionState</a>.</p></td>
      </tr>
  </tbody>
</table>



  <div class="doc doc-children">










  <div class="doc doc-object doc-method">



<h2 id="wyzecam.iotc.WyzeIOTCSession.__init__" class="doc doc-heading">
<code class="codehilite language-python"><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tutk_platform_lib</span><span class="p">,</span> <span class="n">account</span><span class="p">,</span> <span class="n">camera</span><span class="p">,</span> <span class="n">frame_size</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">bitrate</span><span class="o">=</span><span class="mi">120</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h2>

    <div class="doc doc-contents ">

      <p>Construct a wyze iotc session</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>tutk_platform_lib</code></td>
        <td><code>CDLL</code></td>
        <td><p>The underlying c library (from <a href="../tutk/tutk/#wyzecam.tutk.tutk.load_library">tutk.load_library</a>)</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>account</code></td>
        <td><code>WyzeAccount</code></td>
        <td><p>A <a href="../wyze_api/wyze_api_models/#wyzecam.api_models.WyzeAccount">WyzeAccount</a> instance, see <a href="../wyze_api/wyze_api_functions/#wyzecam.api.get_user_info">api.get_user_info</a></p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>camera</code></td>
        <td><code>WyzeCamera</code></td>
        <td><p>A <a href="../wyze_api/wyze_api_models/#wyzecam.api_models.WyzeCamera">WyzeCamera</a> instance, see <a href="../wyze_api/wyze_api_functions/#wyzecam.api.get_camera_list">api.get_camera_list</a></p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>frame_size</code></td>
        <td><code>int</code></td>
        <td><p>Configures the size of the video stream returned by the camera. See <a href="../tutk/tutk/#wyzecam.tutk.tutk.FRAME_SIZE_1080P">wyzecam.tutk.tutk.FRAME_SIZE_1080P</a>.</p></td>
        <td><code>0</code></td>
      </tr>
      <tr>
        <td><code>bitrate</code></td>
        <td><code>int</code></td>
        <td><p>Configures the bitrate of the video stream returned by the camera. See <a href="../tutk/tutk/#wyzecam.tutk.tutk.BITRATE_HD">wyzecam.tutk.tutk.BITRATE_HD</a>.</p></td>
        <td><code>120</code></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>wyzecam/iotc.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">tutk_platform_lib</span><span class="p">:</span> <span class="n">CDLL</span><span class="p">,</span>
    <span class="n">account</span><span class="p">:</span> <span class="n">WyzeAccount</span><span class="p">,</span>
    <span class="n">camera</span><span class="p">:</span> <span class="n">WyzeCamera</span><span class="p">,</span>
    <span class="n">frame_size</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">tutk</span><span class="o">.</span><span class="n">FRAME_SIZE_1080P</span><span class="p">,</span>
    <span class="n">bitrate</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">tutk</span><span class="o">.</span><span class="n">BITRATE_HD</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Construct a wyze iotc session</span>

<span class="sd">    :param tutk_platform_lib: The underlying c library (from</span>
<span class="sd">                    [tutk.load_library][wyzecam.tutk.tutk.load_library])</span>
<span class="sd">    :param account: A [WyzeAccount][wyzecam.api_models.WyzeAccount] instance, see</span>
<span class="sd">                    [api.get_user_info][wyzecam.api.get_user_info]</span>
<span class="sd">    :param camera: A [WyzeCamera][wyzecam.api_models.WyzeCamera] instance, see</span>
<span class="sd">                   [api.get_camera_list][wyzecam.api.get_camera_list]</span>
<span class="sd">    :param frame_size: Configures the size of the video stream returned by the camera.</span>
<span class="sd">                       See [wyzecam.tutk.tutk.FRAME_SIZE_1080P][].</span>
<span class="sd">    :param bitrate: Configures the bitrate of the video stream returned by the camera.</span>
<span class="sd">                    See [wyzecam.tutk.tutk.BITRATE_HD][].</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">tutk_platform_lib</span><span class="p">:</span> <span class="n">CDLL</span> <span class="o">=</span> <span class="n">tutk_platform_lib</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">account</span><span class="p">:</span> <span class="n">WyzeAccount</span> <span class="o">=</span> <span class="n">account</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">camera</span><span class="p">:</span> <span class="n">WyzeCamera</span> <span class="o">=</span> <span class="n">camera</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">session_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">c_int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">av_chan_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">c_int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">state</span><span class="p">:</span> <span class="n">WyzeIOTCSessionState</span> <span class="o">=</span> <span class="n">WyzeIOTCSessionState</span><span class="o">.</span><span class="n">DISCONNECTED</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">preferred_frame_size</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">frame_size</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">preferred_bitrate</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">bitrate</span>
</code></pre></div>
        </details>
    </div>

  </div>





  <div class="doc doc-object doc-method">



<h2 id="wyzecam.iotc.WyzeIOTCSession.iotctrl_mux" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">iotctrl_mux</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h2>

    <div class="doc doc-contents ">

      <p>Constructs a new TutkIOCtrlMux for this session</p>
<p>Use this to send configuration messages, such as change the cameras resolution.</p>
<p>Note that you either should treat the result of this as a context manager (using
with), or call start_listening() explicitly on the result.  This starts a separate
thread listening for the responses from the camera.</p>
<div class="highlight"><pre><span></span><code><span class="k">with</span> <span class="n">session</span><span class="o">.</span><span class="n">ioctrl_mux</span><span class="p">()</span> <span class="k">as</span> <span class="n">mux</span><span class="p">:</span>
    <span class="n">msg</span> <span class="o">=</span> <span class="n">tutk_protocol</span><span class="o">.</span><span class="n">K10056SetResolvingBit</span><span class="p">(</span>
        <span class="n">tutk</span><span class="o">.</span><span class="n">FRAME_SIZE_1080P</span><span class="p">,</span> <span class="n">tutk</span><span class="o">.</span><span class="n">BITRATE_SD</span><span class="p">)</span>
    <span class="n">future</span> <span class="o">=</span> <span class="n">mux</span><span class="o">.</span><span class="n">send_ioctl</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">future</span><span class="o">.</span><span class="n">result</span><span class="p">()</span> <span class="o">==</span> <span class="kc">True</span><span class="p">,</span> <span class="s2">&quot;Change bitrate failed!&quot;</span>
</code></pre></div>

        <details class="quote">
          <summary>Source code in <code>wyzecam/iotc.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">iotctrl_mux</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">TutkIOCtrlMux</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Constructs a new TutkIOCtrlMux for this session</span>

<span class="sd">    Use this to send configuration messages, such as change the cameras resolution.</span>

<span class="sd">    Note that you either should treat the result of this as a context manager (using</span>
<span class="sd">    with), or call start_listening() explicitly on the result.  This starts a separate</span>
<span class="sd">    thread listening for the responses from the camera.</span>

<span class="sd">    ```python</span>
<span class="sd">    with session.ioctrl_mux() as mux:</span>
<span class="sd">        msg = tutk_protocol.K10056SetResolvingBit(</span>
<span class="sd">            tutk.FRAME_SIZE_1080P, tutk.BITRATE_SD)</span>
<span class="sd">        future = mux.send_ioctl(msg)</span>
<span class="sd">        assert future.result() == True, &quot;Change bitrate failed!&quot;</span>
<span class="sd">    ```</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">assert</span> <span class="bp">self</span><span class="o">.</span><span class="n">av_chan_id</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">,</span> <span class="s2">&quot;Please call _connect() first!&quot;</span>
    <span class="k">return</span> <span class="n">TutkIOCtrlMux</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tutk_platform_lib</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">av_chan_id</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>





  <div class="doc doc-object doc-method">



<h2 id="wyzecam.iotc.WyzeIOTCSession.recv_video_data" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">recv_video_data</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h2>

    <div class="doc doc-contents ">

      <p>A generator for returning raw video frames!</p>
<p>By iterating over the return value of this function, you will
get raw video frame data in the form of a bytes object.  This
is convenient for accessing the raw video data without doing
the work of decoding or transcoding the actual video feed.  If
you want to save the video to disk, display it, or otherwise process
the video, I highly recommend using <code>recv_video_frame</code> or
<code>recv_video_frame_nparray</code> instead of this function.</p>
<p>The second item in the tuple returned by this function, 'frame_info', is a useful
set of metadata about the frame as returned by the camera.  See
<a href="../tutk/tutk/#wyzecam.tutk.tutk.FrameInfoStruct">tutk.FrameInfoStruct</a> for more details about
the contents of this object.</p>
<p>Note that the format of this data is either raw h264 or HVEC H265 video. You will
have to introspect the frame_info object to determine the format!</p>
<div class="highlight"><pre><span></span><code><span class="k">with</span> <span class="n">wyzecam</span><span class="o">.</span><span class="n">WyzeIOTC</span><span class="p">()</span> <span class="k">as</span> <span class="n">wyze_iotc</span><span class="p">:</span>
    <span class="k">with</span> <span class="n">wyze_iotc</span><span class="o">.</span><span class="n">connect_and_auth</span><span class="p">(</span><span class="n">account</span><span class="p">,</span> <span class="n">camera</span><span class="p">)</span> <span class="k">as</span> <span class="n">sess</span><span class="p">:</span>
        <span class="k">for</span> <span class="p">(</span><span class="n">frame</span><span class="p">,</span> <span class="n">frame_info</span><span class="p">)</span> <span class="ow">in</span> <span class="n">sess</span><span class="o">.</span><span class="n">recv_video_data</span><span class="p">():</span>
            <span class="c1"># do something with the video data! :)</span>
</code></pre></div>
<p>In order to use this, you will need to install <a href="https://pyav.org/docs/stable/">PyAV</a>.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Iterator[Tuple[Optional[bytes], Union[wyzecam.tutk.tutk.FrameInfoStruct, wyzecam.tutk.tutk.FrameInfo3Struct]]]</code></td>
      <td><p>A generator, which when iterated over, yields a tuple containing the decoded image (as a <a href="https://pyav.org/docs/stable/api/video.html#av.video.frame.VideoFrame">PyAV VideoFrame</a>), as well as metadata about the frame (in the form of a <a href="../tutk/tutk/#wyzecam.tutk.tutk.FrameInfoStruct">tutk.FrameInfoStruct</a>).</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>wyzecam/iotc.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">recv_video_data</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Iterator</span><span class="p">[</span>
    <span class="n">Tuple</span><span class="p">[</span>
        <span class="n">Optional</span><span class="p">[</span><span class="nb">bytes</span><span class="p">],</span> <span class="n">Union</span><span class="p">[</span><span class="n">tutk</span><span class="o">.</span><span class="n">FrameInfoStruct</span><span class="p">,</span> <span class="n">tutk</span><span class="o">.</span><span class="n">FrameInfo3Struct</span><span class="p">]</span>
    <span class="p">]</span>
<span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;A generator for returning raw video frames!</span>

<span class="sd">    By iterating over the return value of this function, you will</span>
<span class="sd">    get raw video frame data in the form of a bytes object.  This</span>
<span class="sd">    is convenient for accessing the raw video data without doing</span>
<span class="sd">    the work of decoding or transcoding the actual video feed.  If</span>
<span class="sd">    you want to save the video to disk, display it, or otherwise process</span>
<span class="sd">    the video, I highly recommend using `recv_video_frame` or</span>
<span class="sd">    `recv_video_frame_nparray` instead of this function.</span>

<span class="sd">    The second item in the tuple returned by this function, &#39;frame_info&#39;, is a useful</span>
<span class="sd">    set of metadata about the frame as returned by the camera.  See</span>
<span class="sd">    [tutk.FrameInfoStruct][wyzecam.tutk.tutk.FrameInfoStruct] for more details about</span>
<span class="sd">    the contents of this object.</span>

<span class="sd">    Note that the format of this data is either raw h264 or HVEC H265 video. You will</span>
<span class="sd">    have to introspect the frame_info object to determine the format!</span>


<span class="sd">    ```python</span>
<span class="sd">    with wyzecam.WyzeIOTC() as wyze_iotc:</span>
<span class="sd">        with wyze_iotc.connect_and_auth(account, camera) as sess:</span>
<span class="sd">            for (frame, frame_info) in sess.recv_video_data():</span>
<span class="sd">                # do something with the video data! :)</span>
<span class="sd">    ```</span>

<span class="sd">    In order to use this, you will need to install [PyAV](https://pyav.org/docs/stable/).</span>

<span class="sd">    :returns: A generator, which when iterated over, yields a tuple containing the decoded image</span>
<span class="sd">             (as a [PyAV VideoFrame](https://pyav.org/docs/stable/api/video.html#av.video.frame.VideoFrame)),</span>
<span class="sd">             as well as metadata about the frame (in the form of a</span>
<span class="sd">             [tutk.FrameInfoStruct][wyzecam.tutk.tutk.FrameInfoStruct]).</span>


<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">assert</span> <span class="bp">self</span><span class="o">.</span><span class="n">av_chan_id</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">,</span> <span class="s2">&quot;Please call _connect() first!&quot;</span>

    <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
        <span class="n">errno</span><span class="p">,</span> <span class="n">frame_data</span><span class="p">,</span> <span class="n">frame_info</span><span class="p">,</span> <span class="n">frame_idx</span> <span class="o">=</span> <span class="n">tutk</span><span class="o">.</span><span class="n">av_recv_frame_data</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">tutk_platform_lib</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">av_chan_id</span>
        <span class="p">)</span>
        <span class="k">if</span> <span class="n">errno</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">errno</span> <span class="o">==</span> <span class="n">tutk</span><span class="o">.</span><span class="n">AV_ER_DATA_NOREADY</span><span class="p">:</span>
                <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">1.0</span> <span class="o">/</span> <span class="mi">40</span><span class="p">)</span>
                <span class="k">continue</span>
            <span class="k">elif</span> <span class="n">errno</span> <span class="o">==</span> <span class="n">tutk</span><span class="o">.</span><span class="n">AV_ER_INCOMPLETE_FRAME</span><span class="p">:</span>
                <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span><span class="s2">&quot;Received incomplete frame&quot;</span><span class="p">)</span>
                <span class="k">continue</span>
            <span class="k">elif</span> <span class="n">errno</span> <span class="o">==</span> <span class="n">tutk</span><span class="o">.</span><span class="n">AV_ER_LOSED_THIS_FRAME</span><span class="p">:</span>
                <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span><span class="s2">&quot;Lost frame&quot;</span><span class="p">)</span>
                <span class="k">continue</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">tutk</span><span class="o">.</span><span class="n">TutkError</span><span class="p">(</span><span class="n">errno</span><span class="p">)</span>
        <span class="k">assert</span> <span class="n">frame_info</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">,</span> <span class="s2">&quot;Got no frame info without an error!&quot;</span>
        <span class="k">if</span> <span class="n">frame_info</span><span class="o">.</span><span class="n">frame_size</span> <span class="o">!=</span> <span class="bp">self</span><span class="o">.</span><span class="n">preferred_frame_size</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">frame_info</span><span class="o">.</span><span class="n">frame_size</span> <span class="o">&lt;</span> <span class="mi">2</span><span class="p">:</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;skipping smaller frame at start of stream (frame_size=</span><span class="si">{</span><span class="n">frame_info</span><span class="o">.</span><span class="n">frame_size</span><span class="si">}</span><span class="s2">)&quot;</span>
                <span class="p">)</span>
                <span class="k">continue</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="c1"># wyze doorbell has weird rotated image sizes.</span>
                <span class="k">if</span> <span class="n">frame_info</span><span class="o">.</span><span class="n">frame_size</span> <span class="o">-</span> <span class="mi">3</span> <span class="o">!=</span> <span class="bp">self</span><span class="o">.</span><span class="n">preferred_frame_size</span><span class="p">:</span>
                    <span class="k">continue</span>

        <span class="k">yield</span> <span class="n">frame_data</span><span class="p">,</span> <span class="n">frame_info</span>
</code></pre></div>
        </details>
    </div>

  </div>





  <div class="doc doc-object doc-method">



<h2 id="wyzecam.iotc.WyzeIOTCSession.recv_video_frame" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">recv_video_frame</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h2>

    <div class="doc doc-contents ">

      <p>A generator for returning decoded video frames!</p>
<p>By iterating over the return value of this function, you will conveniently
get nicely decoded frames in the form of a PyAV VideoFrame object.  This is
convenient for recording the video to disk.</p>
<p>The second item in the tuple returned by this function, 'frame_info', is a useful
set of metadata about the frame as returned by the camera.  See
<a href="../tutk/tutk/#wyzecam.tutk.tutk.FrameInfoStruct">tutk.FrameInfoStruct</a> for more details about
the contents of this object.</p>
<div class="highlight"><pre><span></span><code><span class="k">with</span> <span class="n">wyzecam</span><span class="o">.</span><span class="n">WyzeIOTC</span><span class="p">()</span> <span class="k">as</span> <span class="n">wyze_iotc</span><span class="p">:</span>
    <span class="k">with</span> <span class="n">wyze_iotc</span><span class="o">.</span><span class="n">connect_and_auth</span><span class="p">(</span><span class="n">account</span><span class="p">,</span> <span class="n">camera</span><span class="p">)</span> <span class="k">as</span> <span class="n">sess</span><span class="p">:</span>
        <span class="k">for</span> <span class="p">(</span><span class="n">frame</span><span class="p">,</span> <span class="n">frame_info</span><span class="p">)</span> <span class="ow">in</span> <span class="n">sess</span><span class="o">.</span><span class="n">recv_video_frame</span><span class="p">():</span>
            <span class="c1"># do something with the video data! :)</span>
</code></pre></div>
<p>In order to use this, you will need to install <a href="https://pyav.org/docs/stable/">PyAV</a>.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Iterator[Tuple[av.VideoFrame, Union[wyzecam.tutk.tutk.FrameInfoStruct, wyzecam.tutk.tutk.FrameInfo3Struct]]]</code></td>
      <td><p>A generator, which when iterated over, yields a tuple containing the decoded image (as a <a href="https://pyav.org/docs/stable/api/video.html#av.video.frame.VideoFrame">PyAV VideoFrame</a>), as well as metadata about the frame (in the form of a <a href="../tutk/tutk/#wyzecam.tutk.tutk.FrameInfoStruct">tutk.FrameInfoStruct</a>).</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>wyzecam/iotc.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">recv_video_frame</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Iterator</span><span class="p">[</span>
    <span class="n">Tuple</span><span class="p">[</span>
        <span class="s2">&quot;av.VideoFrame&quot;</span><span class="p">,</span> <span class="n">Union</span><span class="p">[</span><span class="n">tutk</span><span class="o">.</span><span class="n">FrameInfoStruct</span><span class="p">,</span> <span class="n">tutk</span><span class="o">.</span><span class="n">FrameInfo3Struct</span><span class="p">]</span>
    <span class="p">]</span>
<span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;A generator for returning decoded video frames!</span>

<span class="sd">    By iterating over the return value of this function, you will conveniently</span>
<span class="sd">    get nicely decoded frames in the form of a PyAV VideoFrame object.  This is</span>
<span class="sd">    convenient for recording the video to disk.</span>

<span class="sd">    The second item in the tuple returned by this function, &#39;frame_info&#39;, is a useful</span>
<span class="sd">    set of metadata about the frame as returned by the camera.  See</span>
<span class="sd">    [tutk.FrameInfoStruct][wyzecam.tutk.tutk.FrameInfoStruct] for more details about</span>
<span class="sd">    the contents of this object.</span>

<span class="sd">    ```python</span>
<span class="sd">    with wyzecam.WyzeIOTC() as wyze_iotc:</span>
<span class="sd">        with wyze_iotc.connect_and_auth(account, camera) as sess:</span>
<span class="sd">            for (frame, frame_info) in sess.recv_video_frame():</span>
<span class="sd">                # do something with the video data! :)</span>
<span class="sd">    ```</span>

<span class="sd">    In order to use this, you will need to install [PyAV](https://pyav.org/docs/stable/).</span>

<span class="sd">    :returns: A generator, which when iterated over, yields a tuple containing the decoded image</span>
<span class="sd">             (as a [PyAV VideoFrame](https://pyav.org/docs/stable/api/video.html#av.video.frame.VideoFrame)),</span>
<span class="sd">             as well as metadata about the frame (in the form of a</span>
<span class="sd">             [tutk.FrameInfoStruct][wyzecam.tutk.tutk.FrameInfoStruct]).</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">av</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
            <span class="s2">&quot;recv_video_frame requires PyAv to parse video frames. &quot;</span>
            <span class="s2">&quot;Install with `pip install av` and try again.&quot;</span>
        <span class="p">)</span>

    <span class="n">codec</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="k">for</span> <span class="n">frame_data</span><span class="p">,</span> <span class="n">frame_info</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">recv_video_data</span><span class="p">():</span>
        <span class="k">if</span> <span class="n">codec</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">codec</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_av_codec_from_frameinfo</span><span class="p">(</span><span class="n">frame_info</span><span class="p">)</span>
        <span class="n">packets</span> <span class="o">=</span> <span class="n">codec</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="n">frame_data</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">packet</span> <span class="ow">in</span> <span class="n">packets</span><span class="p">:</span>
            <span class="n">frames</span> <span class="o">=</span> <span class="n">codec</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="n">packet</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">frame</span> <span class="ow">in</span> <span class="n">frames</span><span class="p">:</span>
                <span class="k">yield</span> <span class="n">frame</span><span class="p">,</span> <span class="n">frame_info</span>
</code></pre></div>
        </details>
    </div>

  </div>





  <div class="doc doc-object doc-method">



<h2 id="wyzecam.iotc.WyzeIOTCSession.recv_video_frame_ndarray" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">recv_video_frame_ndarray</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h2>

    <div class="doc doc-contents ">

      <p>A generator for returning decoded video frames!</p>
<p>By iterating over the return value of this function, you will conveniently
get nicely decoded frames in the form of a numpy array (suitable for
<a href="https://matplotlib.org/stable/api/_as_gen/matplotlib.pyplot.imshow.html">matplotlib.imshow</a>
or <a href="https://docs.opencv.org/master/dd/d43/tutorial_py_video_display.html">cv2.imshow</a>.</p>
<p>The second item in the tuple returned by this function, 'frame_info', is a useful
set of metadata about the frame as returned by the camera.  See
<a href="../tutk/tutk/#wyzecam.tutk.tutk.FrameInfoStruct">tutk.FrameInfoStruct</a> for more details about
the contents of this object.</p>
<div class="highlight"><pre><span></span><code><span class="k">with</span> <span class="n">wyzecam</span><span class="o">.</span><span class="n">WyzeIOTC</span><span class="p">()</span> <span class="k">as</span> <span class="n">wyze_iotc</span><span class="p">:</span>
    <span class="k">with</span> <span class="n">wyze_iotc</span><span class="o">.</span><span class="n">connect_and_auth</span><span class="p">(</span><span class="n">account</span><span class="p">,</span> <span class="n">camera</span><span class="p">)</span> <span class="k">as</span> <span class="n">sess</span><span class="p">:</span>
        <span class="k">for</span> <span class="p">(</span><span class="n">frame</span><span class="p">,</span> <span class="n">frame_info</span><span class="p">)</span> <span class="ow">in</span> <span class="n">sess</span><span class="o">.</span><span class="n">recv_video_frame_ndarray</span><span class="p">():</span>
            <span class="c1"># do something with the video data! :)</span>
</code></pre></div>
<p>In order to use this, you will need to install <a href="https://pyav.org/docs/stable/">PyAV</a>
and <a href="https://numpy.org/">numpy</a>.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Iterator[Tuple[np.ndarray, Union[wyzecam.tutk.tutk.FrameInfoStruct, wyzecam.tutk.tutk.FrameInfo3Struct]]]</code></td>
      <td><p>A generator, which when iterated over, yields a tuple containing the decoded image (as a numpy array), as well as metadata about the frame (in the form of a <a href="../tutk/tutk/#wyzecam.tutk.tutk.FrameInfoStruct">tutk.FrameInfoStruct</a>).</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>wyzecam/iotc.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">recv_video_frame_ndarray</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Iterator</span><span class="p">[</span>
    <span class="n">Tuple</span><span class="p">[</span><span class="s2">&quot;np.ndarray&quot;</span><span class="p">,</span> <span class="n">Union</span><span class="p">[</span><span class="n">tutk</span><span class="o">.</span><span class="n">FrameInfoStruct</span><span class="p">,</span> <span class="n">tutk</span><span class="o">.</span><span class="n">FrameInfo3Struct</span><span class="p">]]</span>
<span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;A generator for returning decoded video frames!</span>

<span class="sd">    By iterating over the return value of this function, you will conveniently</span>
<span class="sd">    get nicely decoded frames in the form of a numpy array (suitable for</span>
<span class="sd">    [matplotlib.imshow](https://matplotlib.org/stable/api/_as_gen/matplotlib.pyplot.imshow.html)</span>
<span class="sd">    or [cv2.imshow](https://docs.opencv.org/master/dd/d43/tutorial_py_video_display.html).</span>

<span class="sd">    The second item in the tuple returned by this function, &#39;frame_info&#39;, is a useful</span>
<span class="sd">    set of metadata about the frame as returned by the camera.  See</span>
<span class="sd">    [tutk.FrameInfoStruct][wyzecam.tutk.tutk.FrameInfoStruct] for more details about</span>
<span class="sd">    the contents of this object.</span>

<span class="sd">    ```python</span>
<span class="sd">    with wyzecam.WyzeIOTC() as wyze_iotc:</span>
<span class="sd">        with wyze_iotc.connect_and_auth(account, camera) as sess:</span>
<span class="sd">            for (frame, frame_info) in sess.recv_video_frame_ndarray():</span>
<span class="sd">                # do something with the video data! :)</span>
<span class="sd">    ```</span>

<span class="sd">    In order to use this, you will need to install [PyAV](https://pyav.org/docs/stable/)</span>
<span class="sd">    and [numpy](https://numpy.org/).</span>

<span class="sd">    :returns: A generator, which when iterated over, yields a tuple containing the decoded image</span>
<span class="sd">             (as a numpy array), as well as metadata about the frame (in the form of a</span>
<span class="sd">             [tutk.FrameInfoStruct][wyzecam.tutk.tutk.FrameInfoStruct]).</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">np</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
            <span class="s2">&quot;recv_video_frame_ndarray requires numpy to convert to a numpy array. &quot;</span>
            <span class="s2">&quot;Install with `pip install numpy` and try again.&quot;</span>
        <span class="p">)</span>

    <span class="k">for</span> <span class="n">frame</span><span class="p">,</span> <span class="n">frame_info</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">recv_video_frame</span><span class="p">():</span>
        <span class="n">img</span> <span class="o">=</span> <span class="n">frame</span><span class="o">.</span><span class="n">to_ndarray</span><span class="p">(</span><span class="nb">format</span><span class="o">=</span><span class="s2">&quot;bgr24&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">frame_info</span><span class="o">.</span><span class="n">frame_size</span> <span class="ow">in</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">):</span>
            <span class="n">img</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">rot90</span><span class="p">(</span><span class="n">img</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
            <span class="n">img</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">ascontiguousarray</span><span class="p">(</span><span class="n">img</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">uint8</span><span class="p">)</span>
        <span class="k">yield</span> <span class="n">img</span><span class="p">,</span> <span class="n">frame_info</span>
</code></pre></div>
        </details>
    </div>

  </div>





  <div class="doc doc-object doc-method">



<h2 id="wyzecam.iotc.WyzeIOTCSession.recv_video_frame_ndarray_with_stats" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">recv_video_frame_ndarray_with_stats</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">stat_window_size</span><span class="o">=</span><span class="mi">210</span><span class="p">,</span> <span class="n">draw_stats</span><span class="o">=</span><span class="s1">&#39;</span><span class="si">{width}</span><span class="s1">x</span><span class="si">{height}</span><span class="s1"> </span><span class="si">{kilobytes_per_second}</span><span class="s1"> kB/s </span><span class="si">{frames_per_second}</span><span class="s1"> FPS&#39;</span><span class="p">)</span></code>


</h2>

    <div class="doc doc-contents ">

      <p>Does everything recv_video_frame_ndarray does, but also computes a number
of useful / interesting debug metrics including effective framerate, bitrate,
and frame size information.  Optionally, if you specify a format string to the
<code>draw_stats</code> function, this information will be used to draw a line of text
onto the image in the top-right corner with this debug information.</p>
<div class="highlight"><pre><span></span><code><span class="k">with</span> <span class="n">wyzecam</span><span class="o">.</span><span class="n">WyzeIOTC</span><span class="p">()</span> <span class="k">as</span> <span class="n">wyze_iotc</span><span class="p">:</span>
    <span class="k">with</span> <span class="n">wyze_iotc</span><span class="o">.</span><span class="n">connect_and_auth</span><span class="p">(</span><span class="n">account</span><span class="p">,</span> <span class="n">camera</span><span class="p">)</span> <span class="k">as</span> <span class="n">sess</span><span class="p">:</span>
        <span class="k">for</span> <span class="p">(</span><span class="n">frame</span><span class="p">,</span> <span class="n">frame_info</span><span class="p">,</span> <span class="n">frame_stats</span><span class="p">)</span> <span class="ow">in</span> <span class="n">sess</span><span class="o">.</span><span class="n">recv_video_frame_ndarray_with_stats</span><span class="p">():</span>
            <span class="c1"># do something with the video data! :)</span>
</code></pre></div>
<p>This method gives you an additional 'frame_stats' value every frame, which is a
dict with the following keys:</p>
<ul>
<li>"bytes_per_second"</li>
<li>"kilobytes_per_second"</li>
<li>"window_duration"</li>
<li>"frames_per_second"</li>
<li>"width"</li>
<li>"height"</li>
</ul>
<p>This dictionary is available in the draw_stats string as arguments to a python
str.format() call, allowing you to quickly change the debug string in the top corner
of the video.</p>
<p>In order to use this, you will need to install <a href="https://pyav.org/docs/stable/">PyAV</a>,
<a href="https://numpy.org/">numpy</a>, and <a href="https://pypi.org/project/opencv-python/">PyOpenCV</a>.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>stat_window_size</code></td>
        <td><code>int</code></td>
        <td><p>the number of consecutive frames to use as the window function for computing the above metrics.  The larger the window size, the longer period over which the metrics are averaged.  Note that this method is not performant for very large window sizes.</p></td>
        <td><code>210</code></td>
      </tr>
      <tr>
        <td><code>draw_stats</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>if specified, this python format() string is used to draw some debug text in the upper right hand corner.</p></td>
        <td><code>&#39;{width}x{height} {kilobytes_per_second} kB/s {frames_per_second} FPS&#39;</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Iterator[Tuple[np.ndarray, Union[wyzecam.tutk.tutk.FrameInfoStruct, wyzecam.tutk.tutk.FrameInfo3Struct], Dict[str, int]]]</code></td>
      <td><p>A generator, which when iterated over, yields a 3-tuple containing the decoded image (as a numpy array), metadata about the frame (in the form of a <a href="../tutk/tutk/#wyzecam.tutk.tutk.FrameInfoStruct">tutk.FrameInfoStruct</a>), and some performance statistics (in the form of a dict).</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>wyzecam/iotc.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">recv_video_frame_ndarray_with_stats</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">stat_window_size</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">210</span><span class="p">,</span>
    <span class="n">draw_stats</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span>
        <span class="nb">str</span>
    <span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="si">{width}</span><span class="s2">x</span><span class="si">{height}</span><span class="s2"> </span><span class="si">{kilobytes_per_second}</span><span class="s2"> kB/s </span><span class="si">{frames_per_second}</span><span class="s2"> FPS&quot;</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Iterator</span><span class="p">[</span>
    <span class="n">Tuple</span><span class="p">[</span>
        <span class="s2">&quot;np.ndarray&quot;</span><span class="p">,</span>
        <span class="n">Union</span><span class="p">[</span><span class="n">tutk</span><span class="o">.</span><span class="n">FrameInfoStruct</span><span class="p">,</span> <span class="n">tutk</span><span class="o">.</span><span class="n">FrameInfo3Struct</span><span class="p">],</span>
        <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">int</span><span class="p">],</span>
    <span class="p">]</span>
<span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Does everything recv_video_frame_ndarray does, but also computes a number</span>
<span class="sd">    of useful / interesting debug metrics including effective framerate, bitrate,</span>
<span class="sd">    and frame size information.  Optionally, if you specify a format string to the</span>
<span class="sd">    `draw_stats` function, this information will be used to draw a line of text</span>
<span class="sd">    onto the image in the top-right corner with this debug information.</span>

<span class="sd">    ```python</span>
<span class="sd">    with wyzecam.WyzeIOTC() as wyze_iotc:</span>
<span class="sd">        with wyze_iotc.connect_and_auth(account, camera) as sess:</span>
<span class="sd">            for (frame, frame_info, frame_stats) in sess.recv_video_frame_ndarray_with_stats():</span>
<span class="sd">                # do something with the video data! :)</span>
<span class="sd">    ```</span>


<span class="sd">    This method gives you an additional &#39;frame_stats&#39; value every frame, which is a</span>
<span class="sd">    dict with the following keys:</span>

<span class="sd">     - &quot;bytes_per_second&quot;</span>
<span class="sd">     - &quot;kilobytes_per_second&quot;</span>
<span class="sd">     - &quot;window_duration&quot;</span>
<span class="sd">     - &quot;frames_per_second&quot;</span>
<span class="sd">     - &quot;width&quot;</span>
<span class="sd">     - &quot;height&quot;</span>

<span class="sd">    This dictionary is available in the draw_stats string as arguments to a python</span>
<span class="sd">    str.format() call, allowing you to quickly change the debug string in the top corner</span>
<span class="sd">    of the video.</span>

<span class="sd">    In order to use this, you will need to install [PyAV](https://pyav.org/docs/stable/),</span>
<span class="sd">    [numpy](https://numpy.org/), and [PyOpenCV](https://pypi.org/project/opencv-python/).</span>

<span class="sd">    :param stat_window_size: the number of consecutive frames to use as the window function</span>
<span class="sd">                             for computing the above metrics.  The larger the window size,</span>
<span class="sd">                             the longer period over which the metrics are averaged.  Note that</span>
<span class="sd">                             this method is not performant for very large window sizes.</span>
<span class="sd">    :param draw_stats: if specified, this python format() string is used to draw some debug text</span>
<span class="sd">                       in the upper right hand corner.</span>

<span class="sd">    :returns: A generator, which when iterated over, yields a 3-tuple containing the decoded image</span>
<span class="sd">             (as a numpy array), metadata about the frame (in the form of a</span>
<span class="sd">             [tutk.FrameInfoStruct][wyzecam.tutk.tutk.FrameInfoStruct]), and some performance</span>
<span class="sd">             statistics (in the form of a dict).</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">stat_window</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">frame_ndarray</span><span class="p">,</span> <span class="n">frame_info</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">recv_video_frame_ndarray</span><span class="p">():</span>
        <span class="n">stat_window</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">frame_info</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">stat_window</span><span class="p">)</span> <span class="o">&gt;</span> <span class="n">stat_window_size</span><span class="p">:</span>
            <span class="n">stat_window</span> <span class="o">=</span> <span class="n">stat_window</span><span class="p">[</span><span class="nb">len</span><span class="p">(</span><span class="n">stat_window</span><span class="p">)</span> <span class="o">-</span> <span class="n">stat_window_size</span> <span class="p">:]</span>

        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">stat_window</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
            <span class="n">stat_window_start</span> <span class="o">=</span> <span class="p">(</span>
                <span class="n">stat_window</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">timestamp</span>
                <span class="o">+</span> <span class="n">stat_window</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">timestamp_ms</span> <span class="o">/</span> <span class="mi">1_000_000</span>
            <span class="p">)</span>
            <span class="n">stat_window_end</span> <span class="o">=</span> <span class="p">(</span>
                <span class="n">stat_window</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">timestamp</span>
                <span class="o">+</span> <span class="n">stat_window</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">timestamp_ms</span> <span class="o">/</span> <span class="mi">1_000_000</span>
            <span class="p">)</span>
            <span class="n">stat_window_duration</span> <span class="o">=</span> <span class="n">stat_window_end</span> <span class="o">-</span> <span class="n">stat_window_start</span>
            <span class="k">if</span> <span class="n">stat_window_duration</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="p">:</span>
                <span class="c1"># wyze doorbell doesn&#39;t support timestamp_ms; workaround:</span>
                <span class="n">stat_window_duration</span> <span class="o">=</span> <span class="p">(</span>
                    <span class="nb">len</span><span class="p">(</span><span class="n">stat_window</span><span class="p">)</span> <span class="o">/</span> <span class="n">stat_window</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">framerate</span>
                <span class="p">)</span>
            <span class="n">stat_window_total_size</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span>
                <span class="n">b</span><span class="o">.</span><span class="n">frame_len</span> <span class="k">for</span> <span class="n">b</span> <span class="ow">in</span> <span class="n">stat_window</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
            <span class="p">)</span>  <span class="c1"># skip the last reading</span>
            <span class="n">bytes_per_second</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span>
                <span class="n">stat_window_total_size</span> <span class="o">/</span> <span class="n">stat_window_duration</span>
            <span class="p">)</span>
            <span class="n">frames_per_second</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">stat_window</span><span class="p">)</span> <span class="o">/</span> <span class="n">stat_window_duration</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">bytes_per_second</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="n">stat_window_duration</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="n">frames_per_second</span> <span class="o">=</span> <span class="mi">0</span>

        <span class="n">stats</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;bytes_per_second&quot;</span><span class="p">:</span> <span class="n">bytes_per_second</span><span class="p">,</span>
            <span class="s2">&quot;kilobytes_per_second&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">(</span><span class="n">bytes_per_second</span> <span class="o">/</span> <span class="mi">1000</span><span class="p">),</span>
            <span class="s2">&quot;window_duration&quot;</span><span class="p">:</span> <span class="n">stat_window_duration</span><span class="p">,</span>
            <span class="s2">&quot;frames_per_second&quot;</span><span class="p">:</span> <span class="n">frames_per_second</span><span class="p">,</span>
            <span class="s2">&quot;width&quot;</span><span class="p">:</span> <span class="n">frame_ndarray</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span>
            <span class="s2">&quot;height&quot;</span><span class="p">:</span> <span class="n">frame_ndarray</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span>
        <span class="p">}</span>

        <span class="k">if</span> <span class="n">draw_stats</span><span class="p">:</span>
            <span class="n">text</span> <span class="o">=</span> <span class="n">draw_stats</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="o">**</span><span class="n">stats</span><span class="p">)</span>
            <span class="n">cv2</span><span class="o">.</span><span class="n">putText</span><span class="p">(</span>
                <span class="n">frame_ndarray</span><span class="p">,</span>
                <span class="n">text</span><span class="p">,</span>
                <span class="p">(</span><span class="mi">50</span><span class="p">,</span> <span class="mi">50</span><span class="p">),</span>
                <span class="n">cv2</span><span class="o">.</span><span class="n">FONT_HERSHEY_DUPLEX</span><span class="p">,</span>
                <span class="mi">1</span><span class="p">,</span>
                <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
                <span class="mi">2</span><span class="p">,</span>
                <span class="n">cv2</span><span class="o">.</span><span class="n">LINE_AA</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="n">cv2</span><span class="o">.</span><span class="n">putText</span><span class="p">(</span>
                <span class="n">frame_ndarray</span><span class="p">,</span>
                <span class="n">text</span><span class="p">,</span>
                <span class="p">(</span><span class="mi">50</span><span class="p">,</span> <span class="mi">50</span><span class="p">),</span>
                <span class="n">cv2</span><span class="o">.</span><span class="n">FONT_HERSHEY_DUPLEX</span><span class="p">,</span>
                <span class="mi">1</span><span class="p">,</span>
                <span class="p">(</span><span class="mi">255</span><span class="p">,</span> <span class="mi">255</span><span class="p">,</span> <span class="mi">255</span><span class="p">),</span>
                <span class="mi">1</span><span class="p">,</span>
                <span class="n">cv2</span><span class="o">.</span><span class="n">LINE_AA</span><span class="p">,</span>
            <span class="p">)</span>

        <span class="k">yield</span> <span class="n">frame_ndarray</span><span class="p">,</span> <span class="n">frame_info</span><span class="p">,</span> <span class="n">stats</span>
</code></pre></div>
        </details>
    </div>

  </div>





  <div class="doc doc-object doc-method">



<h2 id="wyzecam.iotc.WyzeIOTCSession.session_check" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">session_check</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h2>

    <div class="doc doc-contents ">

      <p>Used by a device or a client to check the IOTC session info.</p>
<p>A device or a client may use this function to check if the IOTC session is
still alive as well as getting the IOTC session info.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>SInfoStruct</code></td>
      <td><p>A <a href="../tutk/tutk/#wyzecam.tutk.tutk.SInfoStruct"><code>tutk.SInfoStruct</code></a></p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>wyzecam/iotc.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">session_check</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">tutk</span><span class="o">.</span><span class="n">SInfoStruct</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Used by a device or a client to check the IOTC session info.</span>

<span class="sd">    A device or a client may use this function to check if the IOTC session is</span>
<span class="sd">    still alive as well as getting the IOTC session info.</span>

<span class="sd">    :returns: A [`tutk.SInfoStruct`][wyzecam.tutk.tutk.SInfoStruct]</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">assert</span> <span class="p">(</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">session_id</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
    <span class="p">),</span> <span class="s2">&quot;Please call _connect() before session_check()&quot;</span>

    <span class="n">errcode</span><span class="p">,</span> <span class="n">sess_info</span> <span class="o">=</span> <span class="n">tutk</span><span class="o">.</span><span class="n">iotc_session_check</span><span class="p">(</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tutk_platform_lib</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">session_id</span>
    <span class="p">)</span>
    <span class="k">if</span> <span class="n">errcode</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">tutk</span><span class="o">.</span><span class="n">TutkError</span><span class="p">(</span><span class="n">errcode</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">sess_info</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>
                
              
              
                


              
            </article>
          </div>
        </div>
        
      </main>
      
        
<footer class="md-footer">
  
    <nav class="md-footer__inner md-grid" aria-label="Footer">
      
        <a href="../iotc/" class="md-footer__link md-footer__link--prev" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              WyzeIOTC
            </div>
          </div>
        </a>
      
      
        <a href="../iotc_session_state/" class="md-footer__link md-footer__link--next" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              WyzeIOTCSessionState
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
        
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "../..", "features": [], "translations": {"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing"}, "search": "../../assets/javascripts/workers/search.4fa0e4ee.min.js", "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.1d3bfcf1.min.js"></script>
      
    
  </body>
</html>